# プリチャンの録画データを最適な方法で回転変換したい
## これをやったモチベーション
プリチャンの録画データを毎回向きを直すために変換を行っているのだが，その時にどれくらい劣化するのか調査して，今後の変換に役立てたい．  

※動画の傾きのみであれば，ファイルの向きデータが入ってる**ヘッダ部分を修正するだけでも無劣化で回転可能**だが，**対応していないソフトウェアがそれなりにある**ため，ffmpegで変換している．


## 使った動画データ
適当に最近の動画を取ってきました．  
そのうちreleaseに置きます．  

## 比較環境
- コーデックは h.264 と h.265
- どちらも録画データ→回転しつつ変換
- 使用ソフトは[ffmpegベースで自作したもの](https://github.com/KeikaChan/VideoRotator)を使用
- それ以外のパラメータは同様．
- 良し悪しは SSIM で評価 (後述)


## SSIMについて
SSIMは画像について，**元画像と比較して変換画像がどれくらい劣化したか**を示す指標です．  
SSIMはPSNRよりもより人の視覚特性に近い評価手法で，0〜1の範囲で値が出ます．  
その値が大きければ大きいほど劣化が少ないことになります．
なので今回は動画から適当にフレームを抜き出して比較します．  

以下基準

|PSNR|SSIM|主観評価|
|---|---|---|
|40～∞［dB］|0.98以上|元画像と圧縮画像の区別がつかない|
|30～40［dB］|0.90～0.98|拡大すれば劣化がわかるレベル|
|30以下［dB］|0.90以下|明らかに劣化がわかる|

※ [電子化文書の画像圧縮ガイドライン](https://www.jiima.or.jp/pdf/5_JIIMA_guideline.pdf) より引用
